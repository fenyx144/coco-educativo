<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Coco - Educativo | Aprende Matemáticas Paso a Paso</title>
    <meta name="description" content="Plataforma educativa interactiva para aprender matemáticas con Coco, tu compañero de aprendizaje.">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>📚</text></svg>">
    
    <!-- React desde CDN estable -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap');
        
        * {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
        }
        
        /* Animaciones ultra modernas */
        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            33% { transform: translateY(-10px) rotate(1deg); }
            66% { transform: translateY(-5px) rotate(-1deg); }
        }
        
        @keyframes shimmer {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }
        
        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        @keyframes zoomIn {
            from {
                opacity: 0;
                transform: scale(0.8);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }
        
        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        
        /* Fondo ultra moderno */
        .gradient-bg {
            background: linear-gradient(-45deg, #ee7752, #e73c7e, #23a6d5, #23d5ab);
            background-size: 400% 400%;
            animation: gradientShift 15s ease infinite;
        }
        
        /* Glassmorphism moderno */
        .glass {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .glass-strong {
            background: rgba(255, 255, 255, 0.25);
            backdrop-filter: blur(25px);
            border: 1px solid rgba(255, 255, 255, 0.3);
        }
        
        /* Hover effects modernos */
        .hover-lift {
            transition: all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
        }
        
        .hover-lift:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.15);
        }
        
        .hover-glow:hover {
            box-shadow: 0 0 40px rgba(139, 92, 246, 0.6);
        }
        
        /* Progress bar con shimmer */
        .progress-shimmer {
            position: relative;
            overflow: hidden;
        }
        
        .progress-shimmer::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.6), transparent);
            animation: shimmer 2s infinite;
        }
        
        /* Cards ultra modernos */
        .card-ultra {
            background: linear-gradient(145deg, #ffffff 0%, #f8fafc 100%);
            border-radius: 24px;
            box-shadow: 
                0 20px 25px -5px rgba(0, 0, 0, 0.1),
                0 10px 10px -5px rgba(0, 0, 0, 0.04);
            transition: all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
            border: 1px solid rgba(255, 255, 255, 0.5);
        }
        
        .card-ultra:hover {
            transform: translateY(-10px);
            box-shadow: 
                0 35px 60px -12px rgba(0, 0, 0, 0.15),
                0 20px 20px -5px rgba(0, 0, 0, 0.08);
        }
        
        /* Input modernos */
        .input-ultra {
            background: linear-gradient(145deg, #ffffff 0%, #f8fafc 100%);
            border: 2px solid transparent;
            background-clip: padding-box;
            border-radius: 16px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
        }
        
        .input-ultra:focus {
            outline: none;
            border-color: #f97316;
            box-shadow: 
                0 0 0 4px rgba(249, 115, 22, 0.1),
                0 8px 25px rgba(0, 0, 0, 0.1);
            transform: translateY(-2px);
        }
        
        /* Botones modernos */
        .btn-modern {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
            position: relative;
            overflow: hidden;
        }
        
        .btn-modern::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
            transition: left 0.6s;
        }
        
        .btn-modern:hover::before {
            left: 100%;
        }
        
        .btn-modern:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 35px rgba(102, 126, 234, 0.4);
        }
        
        /* Text gradients */
        .text-gradient-purple {
            background: linear-gradient(135deg, #8b5cf6, #7c3aed);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        /* Animaciones */
        .animate-float {
            animation: float 6s ease-in-out infinite;
        }
        
        .animate-slide-up {
            animation: slideUp 0.6s ease forwards;
        }
        
        .animate-zoom-in {
            animation: zoomIn 0.5s ease forwards;
        }
        
        /* Feedback animations */
        .feedback-success {
            background: linear-gradient(135deg, #d1fae5 0%, #a7f3d0 100%);
            border-left: 6px solid #10b981;
            animation: slideUp 0.5s ease;
        }
        
        .feedback-error {
            background: linear-gradient(135deg, #fee2e2 0%, #fecaca 100%);
            border-left: 6px solid #ef4444;
            animation: slideUp 0.5s ease;
        }
    </style>
</head>
<body class="gradient-bg min-h-screen">
    <div id="root"></div>

    <script type="text/babel">
        const { useState } = React;

        // Componentes de íconos inline (sin dependencias externas)
        const ChevronRight = ({ className = "w-5 h-5" }) => (
            <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <polyline points="9,18 15,12 9,6"></polyline>
            </svg>
        );

        const ChevronLeft = ({ className = "w-5 h-5" }) => (
            <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <polyline points="15,18 9,12 15,6"></polyline>
            </svg>
        );

        const CheckCircle = ({ className = "w-8 h-8" }) => (
            <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
                <polyline points="22,4 12,14.01 9,11.01"></polyline>
            </svg>
        );

        const Calculator = ({ className = "w-6 h-6" }) => (
            <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <rect x="4" y="2" width="16" height="20" rx="2"></rect>
                <line x1="8" y1="6" x2="16" y2="6"></line>
                <line x1="16" y1="14" x2="16" y2="18"></line>
                <path d="M16 10h.01"></path>
                <path d="M12 10h.01"></path>
                <path d="M8 10h.01"></path>
                <path d="M12 14h.01"></path>
                <path d="M8 14h.01"></path>
                <path d="M8 18h.01"></path>
            </svg>
        );

        const Brain = ({ className = "w-6 h-6" }) => (
            <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <path d="M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.07 2.07 0 0 1-2.44-1.94c0-1.25.78-2.31 1.9-2.75V4.5A2.5 2.5 0 0 1 9.5 2Z"></path>
                <path d="M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.07 2.07 0 0 0 2.44-1.94c0-1.25-.78-2.31-1.9-2.75V4.5A2.5 2.5 0 0 0 14.5 2Z"></path>
            </svg>
        );

        const TrendingUp = ({ className = "w-6 h-6" }) => (
            <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <polyline points="22,7 13.5,15.5 8.5,10.5 2,17"></polyline>
                <polyline points="16,7 22,7 22,13"></polyline>
            </svg>
        );

        const Star = ({ className = "w-5 h-5" }) => (
            <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <polygon points="12,2 15.09,8.26 22,9.27 17,14.14 18.18,21.02 12,17.77 5.82,21.02 7,14.14 2,9.27 8.91,8.26"></polygon>
            </svg>
        );

        const Trophy = ({ className = "w-5 h-5" }) => (
            <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <path d="M6 9H4.5a2.5 2.5 0 0 1 0-5H6"></path>
                <path d="M18 9h1.5a2.5 2.5 0 0 0 0-5H18"></path>
                <path d="M4 22h16"></path>
                <path d="M18 2H6v7a6 6 0 0 0 12 0V2Z"></path>
            </svg>
        );

        const Book = ({ className = "w-8 h-8" }) => (
            <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
                <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
            </svg>
        );

        const Target = ({ className = "w-8 h-8" }) => (
            <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <circle cx="12" cy="12" r="10"></circle>
                <circle cx="12" cy="12" r="6"></circle>
                <circle cx="12" cy="12" r="2"></circle>
            </svg>
        );

        const CocoEducativo = () => {
            const [currentLesson, setCurrentLesson] = useState(0);
            const [currentStep, setCurrentStep] = useState(0);
            const [userAnswer, setUserAnswer] = useState('');
            const [showFeedback, setShowFeedback] = useState(false);
            const [completedSteps, setCompletedSteps] = useState(new Set());
            const [score, setScore] = useState(0);

            const lessons = [
                {
                    title: "Aritmética Básica",
                    icon: <Calculator className="w-8 h-8" />,
                    color: "from-blue-500 to-indigo-600",
                    bgClass: "bg-gradient-to-br from-blue-500 to-indigo-600",
                    steps: [
                        {
                            type: "theory",
                            title: "¿Qué es la suma?",
                            content: "La suma es una operación matemática que nos permite combinar cantidades. Cuando sumamos 3 + 2, estamos juntando 3 elementos con 2 elementos más.",
                            example: "3 🍎 + 2 🍎 = 5 🍎"
                        },
                        {
                            type: "example",
                            title: "Ejemplo paso a paso",
                            content: "Resolvamos: 15 + 23",
                            steps: [
                                "Alineamos los números por posición:",
                                "  15",
                                "+ 23",
                                "____",
                                "Sumamos unidades: 5 + 3 = 8",
                                "Sumamos decenas: 1 + 2 = 3",
                                "Resultado: 38"
                            ]
                        },
                        {
                            type: "exercise",
                            title: "¡Tu turno!",
                            question: "¿Cuánto es 17 + 25?",
                            answer: "42",
                            hint: "Suma primero las unidades (7+5) y luego las decenas (1+2)"
                        }
                    ]
                },
                {
                    title: "Álgebra",
                    icon: <Brain className="w-8 h-8" />,
                    color: "from-green-500 to-emerald-600",
                    bgClass: "bg-gradient-to-br from-green-500 to-emerald-600",
                    steps: [
                        {
                            type: "theory",
                            title: "Variables en Álgebra",
                            content: "Una variable es una letra que representa un número desconocido. Comúnmente usamos 'x' o 'y'. Por ejemplo, si x = 5, entonces x + 3 = 8.",
                            example: "Si x = 4, entonces x + 6 = 10"
                        },
                        {
                            type: "exercise",
                            title: "Encuentra el valor",
                            question: "Si x + 7 = 12, ¿cuál es el valor de x?",
                            answer: "5",
                            hint: "¿Qué número sumado a 7 nos da 12?"
                        },
                        {
                            type: "theory",
                            title: "¿Qué son los Polinomios?",
                            content: "Un polinomio es una expresión algebraica que consta de variables y coeficientes, que involucra solo las operaciones de suma, resta, multiplicación y exponentes enteros no negativos.",
                            example: "P(x) = 3x² + 2x - 5 (polinomio de grado 2)"
                        },
                        {
                            type: "example",
                            title: "Suma de Polinomios",
                            content: "Para sumar polinomios, agrupamos términos semejantes:",
                            steps: [
                                "P(x) = 2x² + 3x + 1",
                                "Q(x) = x² - x + 4",
                                "P(x) + Q(x) = (2x² + x²) + (3x - x) + (1 + 4)",
                                "P(x) + Q(x) = 3x² + 2x + 5"
                            ]
                        },
                        {
                            type: "exercise",
                            title: "Suma estos polinomios",
                            question: "(x² + 2x + 3) + (2x² - x + 1) = ?",
                            answer: "3x² + x + 4",
                            hint: "Agrupa términos con la misma potencia de x"
                        },
                        {
                            type: "theory",
                            title: "La Regla de Ruffini",
                            content: "La regla de Ruffini es un método para dividir un polinomio por un binomio de la forma (x - a). Es más rápido que la división larga de polinomios.",
                            example: "Para dividir P(x) ÷ (x - 2), usamos a = 2"
                        },
                        {
                            type: "example",
                            title: "Ejemplo: Dividir x³ - 6x² + 11x - 6 ÷ (x - 1)",
                            content: "Aplicamos Ruffini con a = 1:",
                            steps: [
                                "Coeficientes: 1  -6  11  -6",
                                "       1 |  1  -6  11  -6",
                                "         |     1  -5   6",
                                "         |  1  -5   6   0",
                                "",
                                "Resultado: x² - 5x + 6",
                                "Resto: 0"
                            ]
                        },
                        {
                            type: "exercise",
                            title: "División por Ruffini",
                            question: "Al dividir x² - 3x + 2 ÷ (x - 1), ¿cuál es el resto?",
                            answer: "0",
                            hint: "Usa Ruffini con a = 1. Si el resto es 0, significa que (x-1) es un factor."
                        },
                        {
                            type: "theory",
                            title: "Ecuaciones Cuadráticas",
                            content: "Una ecuación cuadrática tiene la forma ax² + bx + c = 0, donde a ≠ 0. Podemos resolverla usando la fórmula cuadrática:",
                            example: "x = (-b ± √(b² - 4ac)) / 2a"
                        },
                        {
                            type: "example",
                            title: "Resolver: x² - 5x + 6 = 0",
                            content: "Aplicamos la fórmula cuadrática:",
                            steps: [
                                "a = 1, b = -5, c = 6",
                                "Discriminante: Δ = b² - 4ac = 25 - 24 = 1",
                                "x = (5 ± √1) / 2 = (5 ± 1) / 2",
                                "x₁ = (5 + 1) / 2 = 3",
                                "x₂ = (5 - 1) / 2 = 2",
                                "Soluciones: x = 2 y x = 3"
                            ]
                        },
                        {
                            type: "exercise",
                            title: "Resuelve la ecuación",
                            question: "¿Cuáles son las soluciones de x² - 4x + 3 = 0? (escribe la menor)",
                            answer: "1",
                            hint: "Usa la fórmula cuadrática o factoriza (x - 1)(x - 3) = 0"
                        }
                    ]
                },
                {
                    title: "Razonamiento Lógico",
                    icon: <TrendingUp className="w-8 h-8" />,
                    color: "from-orange-500 to-red-600",
                    bgClass: "bg-gradient-to-br from-orange-500 to-red-600",
                    steps: [
                        {
                            type: "theory",
                            title: "Patrones Numéricos",
                            content: "Los patrones son secuencias que siguen una regla. Por ejemplo: 2, 4, 6, 8... cada número aumenta en 2.",
                            example: "Patrón: 5, 10, 15, 20... (aumenta de 5 en 5)"
                        },
                        {
                            type: "exercise",
                            title: "Completa el patrón",
                            question: "3, 6, 9, 12, ___",
                            answer: "15",
                            hint: "Cada número aumenta en 3"
                        }
                    ]
                }
            ];

            const currentLessonData = lessons[currentLesson];
            const currentStepData = currentLessonData.steps[currentStep];

            const handleAnswer = () => {
                if (currentStepData.type === 'exercise') {
                    const isCorrect = userAnswer.trim().toLowerCase() === currentStepData.answer.toLowerCase();
                    setShowFeedback(true);
                    
                    if (isCorrect) {
                        setScore(score + 10);
                        setCompletedSteps(prev => new Set([...prev, `${currentLesson}-${currentStep}`]));
                    }
                }
            };

            const nextStep = () => {
                if (currentStep < currentLessonData.steps.length - 1) {
                    setCurrentStep(currentStep + 1);
                } else if (currentLesson < lessons.length - 1) {
                    setCurrentLesson(currentLesson + 1);
                    setCurrentStep(0);
                }
                setUserAnswer('');
                setShowFeedback(false);
            };

            const prevStep = () => {
                if (currentStep > 0) {
                    setCurrentStep(currentStep - 1);
                } else if (currentLesson > 0) {
                    setCurrentLesson(currentLesson - 1);
                    setCurrentStep(lessons[currentLesson - 1].steps.length - 1);
                }
                setUserAnswer('');
                setShowFeedback(false);
            };

            const isStepCompleted = completedSteps.has(`${currentLesson}-${currentStep}`);

            return (
                <div className="min-h-screen">
                    {/* Header Ultra Moderno */}
                    <header className="glass-strong shadow-2xl backdrop-blur-xl border-b border-white/20">
                        <div className="container mx-auto px-8 py-6">
                            <div className="flex items-center justify-between">
                                <div className="flex items-center space-x-6">
                                    <div className={`${currentLessonData.bgClass} p-4 rounded-3xl hover-lift shadow-2xl animate-float`}>
                                        <Book className="text-white" />
                                    </div>
                                    <div>
                                        <h1 className="text-5xl font-black text-gradient-purple animate-pulse">
                                            Coco - Educativo
                                        </h1>
                                        <p className="text-white/80 text-xl font-semibold">Tu compañero de matemáticas 🚀✨</p>
                                    </div>
                                </div>
                                
                                <div className="flex items-center space-x-8">
                                    {/* Score modernísimo */}
                                    <div className="glass-strong px-8 py-4 rounded-full shadow-xl hover-lift">
                                        <div className="flex items-center space-x-3">
                                            <div className="bg-gradient-to-r from-yellow-400 to-orange-500 p-2 rounded-full animate-bounce">
                                                <Star className="text-white" />
                                            </div>
                                            <span className="font-bold text-white text-xl">{score} puntos</span>
                                        </div>
                                    </div>
                                    
                                    {/* Mascota Coco Ultra Moderna */}
                                    <div className="relative">
                                        <div className="glass-strong p-5 rounded-full shadow-2xl hover-lift hover-glow border-4 border-white/30">
                                            <svg width="64" height="64" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg" className="animate-float">
                                                <defs>
                                                    <linearGradient id="bodyGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                                                        <stop offset="0%" style={{stopColor:'#ffffff'}}/>
                                                        <stop offset="100%" style={{stopColor:'#f1f5f9'}}/>
                                                    </linearGradient>
                                                    <linearGradient id="hornGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                                                        <stop offset="0%" style={{stopColor:'#8b5cf6'}}/>
                                                        <stop offset="100%" style={{stopColor:'#7c3aed'}}/>
                                                    </linearGradient>
                                                </defs>
                                                
                                                {/* Cuerpo con gradiente */}
                                                <circle cx="24" cy="28" r="16" fill="url(#bodyGrad)" stroke="#1f2937" strokeWidth="2"/>
                                                
                                                {/* Ojos que parpadean */}
                                                <circle cx="19" cy="23" r="3" fill="#1f2937">
                                                    <animate attributeName="ry" values="3;0.5;3" dur="3s" repeatCount="indefinite"/>
                                                </circle>
                                                <circle cx="29" cy="23" r="3" fill="#1f2937">
                                                    <animate attributeName="ry" values="3;0.5;3" dur="3s" repeatCount="indefinite"/>
                                                </circle>
                                                
                                                {/* Pupils brillantes */}
                                                <circle cx="19.5" cy="22" r="0.8" fill="white"/>
                                                <circle cx="29.5" cy="22" r="0.8" fill="white"/>
                                                
                                                {/* Boca sonriente animada */}
                                                <path d="M18 31 Q24 37 30 31" stroke="#1f2937" strokeWidth="3" fill="none" strokeLinecap="round">
                                                    <animate attributeName="d" values="M18 31 Q24 37 30 31;M18 31 Q24 35 30 31;M18 31 Q24 37 30 31" dur="2s" repeatCount="indefinite"/>
                                                </path>
                                                
                                                {/* Cuernitos gradiente */}
                                                <circle cx="18" cy="15" r="3" fill="url(#hornGrad)"/>
                                                <circle cx="30" cy="15" r="3" fill="url(#hornGrad)"/>
                                                
                                                {/* Bracitos con gradiente */}
                                                <circle cx="7" cy="28" r="4" fill="url(#bodyGrad)" stroke="#1f2937" strokeWidth="2"/>
                                                <circle cx="41" cy="28" r="4" fill="url(#bodyGrad)" stroke="#1f2937" strokeWidth="2"/>
                                                
                                                {/* Patitas */}
                                                <circle cx="18" cy="42" r="4" fill="url(#bodyGrad)" stroke="#1f2937" strokeWidth="2"/>
                                                <circle cx="30" cy="42" r="4" fill="url(#bodyGrad)" stroke="#1f2937" strokeWidth="2"/>
                                            </svg>
                                        </div>
                                        <div className={`absolute -top-4 -right-4 ${currentLessonData.bgClass} text-white text-sm px-4 py-2 rounded-full font-bold shadow-2xl border-2 border-white/30 animate-bounce`}>
                                            ¡Hola! ✨🎓
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </header>

                    {/* Contenido Principal */}
                    <div className="container mx-auto px-8 py-12">
                        <div className="grid lg:grid-cols-4 gap-12">
                            
                            {/* Sidebar Ultra Moderno */}
                            <div className="lg:col-span-1">
                                <div className="card-ultra p-8 sticky top-8 animate-slide-up">
                                    <h2 className="text-2xl font-bold text-gray-800 mb-8 flex items-center">
                                        <div className="bg-gradient-to-r from-yellow-400 to-orange-500 p-3 rounded-2xl mr-4 shadow-lg">
                                            <Trophy className="text-white" />
                                        </div>
                                        Lecciones
                                    </h2>
                                    
                                    <div className="space-y-5">
                                        {lessons.map((lesson, index) => (
                                            <button
                                                key={index}
                                                onClick={() => {setCurrentLesson(index); setCurrentStep(0); setUserAnswer(''); setShowFeedback(false);}}
                                                className={`w-full p-6 rounded-2xl text-left transition-all duration-300 hover-lift animate-slide-up ${
                                                    currentLesson === index ? 
                                                        lesson.bgClass + ' text-white shadow-2xl' : 
                                                        'bg-gradient-to-r from-gray-50 to-gray-100 hover:from-gray-100 hover:to-gray-200 text-gray-700 shadow-lg'
                                                }`}
                                            >
                                                <div className="flex items-center space-x-4">
                                                    <div className="w-10 h-10">
                                                        {React.cloneElement(lesson.icon, {className: "w-10 h-10"})}
                                                    </div>
                                                    <div>
                                                        <h3 className="font-bold text-lg">{lesson.title}</h3>
                                                        <p className="text-sm opacity-80">{lesson.steps.length} paso{lesson.steps.length !== 1 ? 's' : ''}</p>
                                                    </div>
                                                </div>
                                            </button>
                                        ))}
                                    </div>
                                </div>
                            </div>

                            {/* Contenido Principal Ultra Moderno */}
                            <div className="lg:col-span-3">
                                <div className="card-ultra overflow-hidden animate-slide-up">
                                    
                                    {/* Progress Bar Épico */}
                                    <div className="bg-gradient-to-r from-gray-50 via-blue-50 to-purple-50 p-8 border-b border-gray-100">
                                        <div className="flex items-center justify-between mb-6">
                                            <span className="text-xl font-bold text-gray-700">
                                                Progreso: Paso {currentStep + 1} de {currentLessonData.steps.length}
                                            </span>
                                            <div className="glass-strong px-6 py-3 rounded-full shadow-lg">
                                                <span className="text-xl font-bold text-gray-700">
                                                    {Math.round(((currentStep + 1) / currentLessonData.steps.length) * 100)}%
                                                </span>
                                            </div>
                                        </div>
                                        <div className="bg-gray-200 rounded-full h-4 shadow-inner">
                                            <div 
                                                className={`h-4 rounded-full progress-shimmer transition-all duration-700 ${currentLessonData.bgClass}`}
                                                style={{width: `${Math.round(((currentStep + 1) / currentLessonData.steps.length) * 100)}%`}}
                                            ></div>
                                        </div>
                                    </div>

                                    {/* Header del Paso */}
                                    <div className="p-10">
                                        <div className="flex items-center space-x-6 mb-10">
                                            <div className={`p-5 rounded-3xl text-white shadow-2xl hover-lift ${currentLessonData.bgClass}`}>
                                                {React.cloneElement(currentLessonData.icon, {className: "w-12 h-12"})}
                                            </div>
                                            <div className="flex-1">
                                                <h2 className="text-4xl font-black text-gray-800 mb-2">{currentStepData.title}</h2>
                                                <p className="text-gray-600 text-xl font-semibold">{currentLessonData.title}</p>
                                            </div>
                                            {isStepCompleted && (
                                                <div className="text-green-500 animate-zoom-in">
                                                    <CheckCircle className="w-12 h-12" />
                                                </div>
                                            )}
                                        </div>

                                        {/* Contenido Dinámico Ultra */}
                                        {currentStepData.type === 'theory' && (
                                            <div className="space-y-8 animate-slide-up">
                                                <div className="bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 p-10 rounded-3xl border-l-8 border-blue-500 shadow-xl hover-lift">
                                                    <p className="text-2xl text-gray-800 leading-relaxed font-medium">{currentStepData.content}</p>
                                                </div>
                                                {currentStepData.example && (
                                                    <div className="bg-gradient-to-br from-green-50 to-emerald-100 p-10 rounded-3xl border-l-8 border-green-500 shadow-xl hover-lift">
                                                        <h4 className="font-bold text-green-800 mb-6 text-2xl flex items-center">
                                                            <span className="bg-green-500 text-white p-3 rounded-full mr-4 text-3xl">💡</span>
                                                            Ejemplo:
                                                        </h4>
                                                        <p className="text-green-700 text-2xl font-mono bg-white p-6 rounded-2xl shadow-inner">{currentStepData.example}</p>
                                                    </div>
                                                )}
                                            </div>
                                        )}

                                        {currentStepData.type === 'example' && (
                                            <div className="space-y-8 animate-slide-up">
                                                <div className="bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 p-10 rounded-3xl shadow-xl hover-lift">
                                                    <p className="text-2xl text-gray-800 mb-8 font-medium">{currentStepData.content}</p>
                                                    <div className="bg-white p-8 rounded-2xl shadow-inner border-2 border-gray-100">
                                                        {currentStepData.steps.map((step, index) => (
                                                            <div key={index} className="text-gray-700 py-3 text-xl font-mono border-l-4 border-gray-200 pl-6 hover:border-blue-400 transition-colors">{step}</div>
                                                        ))}
                                                    </div>
                                                </div>
                                            </div>
                                        )}

                                        {currentStepData.type === 'exercise' && (
                                            <div className="space-y-8 animate-slide-up">
                                                <div className="bg-gradient-to-br from-orange-50 via-pink-50 to-red-50 p-10 rounded-3xl border-l-8 border-orange-500 shadow-xl">
                                                    <div className="flex items-center mb-8">
                                                        <div className="bg-orange-500 text-white p-4 rounded-full mr-6">
                                                            <Target className="text-white" />
                                                        </div>
                                                        <h3 className="text-3xl font-bold text-orange-600">¡Hora de practicar! 🎯</h3>
                                                    </div>
                                                    
                                                    <h3 className="text-3xl font-bold text-gray-800 mb-8">{currentStepData.question}</h3>
                                                    
                                                    <div className="flex space-x-6 items-center mb-6">
                                                        <input
                                                            type="text"
                                                            value={userAnswer}
                                                            onChange={(e) => setUserAnswer(e.target.value)}
                                                            onKeyPress={(e) => e.key === 'Enter' && handleAnswer()}
                                                            placeholder="Escribe tu respuesta aquí... ✨"
                                                            className="input-ultra flex-1 text-2xl p-6"
                                                        />
                                                        <button
                                                            onClick={handleAnswer}
                                                            className="btn-modern text-white px-10 py-6 rounded-2xl font-bold text-xl shadow-2xl"
                                                        >
                                                            ✨ Verificar
                                                        </button>
                                                    </div>
                                                    
                                                    {showFeedback && (
                                                        <div className={`mt-8 p-8 rounded-2xl shadow-xl ${
                                                            userAnswer.trim().toLowerCase() === currentStepData.answer.toLowerCase() ? 
                                                            'feedback-success' : 'feedback-error'
                                                        }`}>
                                                            {userAnswer.trim().toLowerCase() === currentStepData.answer.toLowerCase() ? (
                                                                <div className="flex items-center">
                                                                    <div className="bg-green-500 text-white p-4 rounded-full mr-6 animate-bounce">
                                                                        <CheckCircle className="w-8 h-8" />
                                                                    </div>
                                                                    <div>
                                                                        <h4 className="font-bold text-green-800 text-2xl">¡Correcto! 🎉✨</h4>
                                                                        <p className="text-green-700 text-xl">¡Excelente trabajo! ¡Sigue así! 🚀</p>
                                                                    </div>
                                                                </div>
                                                            ) : (
                                                                <div className="flex items-center">
                                                                    <div className="bg-red-500 text-white p-4 rounded-full mr-6">
                                                                        <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="3">
                                                                            <circle cx="12" cy="12" r="10"></circle>
                                                                            <line x1="15" y1="9" x2="9" y2="15"></line>
                                                                            <line x1="9" y1="9" x2="15" y2="15"></line>
                                                                        </svg>
                                                                    </div>
                                                                    <div>
                                                                        <h4 className="font-bold text-red-800 text-2xl">¡Inténtalo de nuevo! 🤔</h4>
                                                                        <p className="text-red-700 text-xl mb-3">{currentStepData.hint}</p>
                                                                        <p className="text-red-600 text-lg">La respuesta correcta es: <strong className="text-red-800 text-2xl">{currentStepData.answer}</strong></p>
                                                                    </div>
                                                                </div>
                                                            )}
                                                        </div>
                                                    )}
                                                </div>
                                            </div>
                                        )}
                                    </div>

                                    {/* Navigation Ultra Moderno */}
                                    <div className="bg-gradient-to-r from-gray-50 via-blue-50 to-purple-50 p-10 flex justify-between items-center border-t border-gray-100">
                                        <button
                                            onClick={prevStep}
                                            disabled={currentLesson === 0 && currentStep === 0}
                                            className="flex items-center space-x-4 px-10 py-5 bg-gray-300 text-gray-700 rounded-2xl hover:bg-gray-400 disabled:opacity-50 disabled:cursor-not-allowed transition-all hover-lift font-bold text-lg"
                                        >
                                            <ChevronLeft className="w-7 h-7" />
                                            <span>Anterior</span>
                                        </button>

                                        <div className="flex space-x-4">
                                            {currentLessonData.steps.map((_, index) => (
                                                <div
                                                    key={index}
                                                    className={`w-4 h-4 rounded-full transition-all duration-300 ${
                                                        index === currentStep ? 
                                                            currentLessonData.bgClass + ' shadow-lg animate-pulse' :
                                                            index < currentStep || completedSteps.has(`${currentLesson}-${index}`) ? 
                                                            'bg-green-400' : 'bg-gray-300'
                                                    }`}
                                                />
                                            ))}
                                        </div>

                                        <button
                                            onClick={nextStep}
                                            disabled={currentLesson === lessons.length - 1 && currentStep === currentLessonData.steps.length - 1}
                                            className={`flex items-center space-x-4 px-10 py-5 text-white rounded-2xl hover:shadow-2xl transition-all hover-lift font-bold text-lg ${currentLessonData.bgClass} ${(currentLesson === lessons.length - 1 && currentStep === currentLessonData.steps.length - 1) ? 'opacity-50 cursor-not-allowed' : ''}`}
                                        >
                                            <span>Siguiente</span>
                                            <ChevronRight className="w-7 h-7" />
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        // Renderizar la aplicación
        ReactDOM.render(<CocoEducativo />, document.getElementById('root'));
    </script>
</body>
</html>